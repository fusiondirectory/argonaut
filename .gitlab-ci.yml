# Define variable
variables:
  CI_REPOSITORY_URL: http://gitlab.fusiondirectory.org/jswaelens/argonaut.git

# Execute before every job
# Install libperl-critic-perl and authorize git clone without ssl verification
# Install fusionirectory.org certificate
before_script:
  - apt-get update -qq
  - apt-get install -y -qq libperl-critic-perl openssl

# Generate perlcritic rapport
create_perlcritic_rapport:
  script:
    - perlcritic --quiet --verbose "%f~|~%s~|~%l~|~%c~|~%m~|~%e~|~%p~||~%n" . > perlcritic_report.txt
